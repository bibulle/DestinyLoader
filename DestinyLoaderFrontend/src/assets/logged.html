<!doctype html>
<html>
<head>
</head>
<body>
Logged

<script>
  (function() {
    const referrerSplit = document.referrer.split('/');
    console.log(referrerSplit[2]);
    console.log(referrerSplit[2].startsWith('localhost'));
    console.log(referrerSplit[2].match(/^[0-9]+[.][0-9]+[.][0-9]+[.][0-9]+/));
    if (
      (referrerSplit.length > 2) &&
      (
        (referrerSplit[2].startsWith('localhost')) ||
        (referrerSplit[2].match(/^[0-9]+[.][0-9]+[.][0-9]+[.][0-9]+/))
      )){
      const referrerHost = referrerSplit[0] + '//' + referrerSplit[2];
      console.log(referrerHost);
      const locationHost = document.location.origin;
      console.log(locationHost);

      if (referrerHost && (locationHost !== referrerHost)) {
        const newURL = referrerHost+document.location.pathname+document.location.search;
        console.log(newURL);
        window.location.replace(newURL);
      }
    }
  })();
</script>
</body>
</html>
